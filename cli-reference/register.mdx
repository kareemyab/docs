# Trust Engine register

> Register a file with the Trust Engine Core API

The register command allows you to register a file with the Trust Engine Core API for blockchain verification and provenance tracking. Files are hashed, stored on IPFS, and recorded on the Solana blockchain.

To use it, run the following command from your terminal

```bash
trust-engine-cli register [options]
```

## Options

| Option                        | Description                                      |
| ----------------------------- | ------------------------------------------------ |
| `-f, --file <path>`           | Path to the file to register                     |
| `-t, --contentTitle <title>`  | Title for the content being registered          |
| `-w, --walletAddress <address>` | User wallet address (Solana public key)       |
| `-y, --walletType <type>`     | Wallet type: 'standard' or 'crossmint'          |
| `-m, --metadata <text>`       | Public metadata as a string (optional)          |
| `-s, --secret <text>`         | Optional raw text secret for claim hash generation |
| `--json`                      | Output the result as JSON                        |

## Examples

Register a file with basic information:

```bash
trust-engine-cli register \
  --file ./document.pdf \
  --contentTitle "Important Legal Document" \
  --walletAddress "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM" \
  --walletType "crossmint"
```

After running the command, you'll see registration details:

```
✅ File registered successfully on the blockchain.

Registration Details:
  - Status: completed
  - Transaction Signature: 2nBhEBYYvfaAe16UMNqRHre4YNSskvuYgx3M6E4JP1oDYvZEJHvoPzyUwkoB6VRYuVEMarHNr9RxJWnyb8FnFnBg
  - Content Registration PDA: xyz789abc123def456ghi789
  - Content Hash: abc123def456789ghi012jkl345mno678pqr901
  - IPFS CID: QmExampleCidForYourFileMetadata123
  - Explorer URL: https://explorer.solana.com/tx/2nBhEBYYvfaAe16UMNqRHre4YNSskvuYgx3M6E4JP1oDYvZEJHvoPzyUwkoB6VRYuVEMarHNr9RxJWnyb8FnFnBg?cluster=devnet
```

If the registration requires client-side signing, you'll see:

```
✅ Registration prepared. Please sign the transaction.

Registration Details:
  - Status: requires-client-signature
  - Sign the transaction using your wallet and submit it using the following command:
    trust-engine-cli submit-transaction --transaction <signed_base64_transaction>
  - Transaction (Base64): eJzTYmBkYGBkZWBgZGZgYGRhYGBkZmBgZGVgYGRmYGBkZWBgZGZgYGRh...
  - Content Registration PDA: xyz789abc123def456ghi789
  - Content Hash: abc123def456789ghi012jkl345mno678pqr901
  - IPFS CID: QmExampleCidForYourFileMetadata123
```

You can also register with metadata and secrets:

```bash
trust-engine-cli register \
  --file ./contract.pdf \
  --contentTitle "Confidential Contract" \
  --walletAddress "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM" \
  --walletType "crossmint" \
  --metadata "type:contract,department:legal" \
  --secret "my_secret_verification_phrase"
```

For automation purposes, use the JSON output:

```bash
trust-engine-cli register --file ./data.csv --contentTitle "Research Data" --walletAddress "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM" --walletType "crossmint" --json
```

This will return:

```json
{
  "message": "File registered successfully on the blockchain.",
  "details": {
    "status": "completed",
    "transactionSignature": "2nBhEBYYvfaAe16UMNqRHre4YNSskvuYgx3M6E4JP1oDYvZEJHvoPzyUwkoB6VRYuVEMarHNr9RxJWnyb8FnFnBg",
    "contentRegistrationPDA": "xyz789abc123def456ghi789",
    "contentHash": "abc123def456789ghi012jkl345mno678pqr901",
    "ipfsCid": "QmExampleCidForYourFileMetadata123",
    "explorerUrl": "https://explorer.solana.com/tx/2nBhEBYYvfaAe16UMNqRHre4YNSskvuYgx3M6E4JP1oDYvZEJHvoPzyUwkoB6VRYuVEMarHNr9RxJWnyb8FnFnBg?cluster=devnet"
  }
}
```
