---
title: '/register'
description: 'Registers a file with the Trust Engine protocol, initiating the decentralized verification process.'
icon: 'file-plus'
openapi: 'POST /register'
---

## What This Endpoint Does

<Steps>
  <Step title="File Validation">
    Validates file type
  </Step>
  <Step title="IPFS Upload">
    Uploads file and metadata to IPFS and generates Content Identifier (CID)
  </Step>
  <Step title="On-Chain Registration">
    Creates immutable proof record on Solana blockchain
  </Step>
  <Step title="Verification Process">
    Initiates decentralized verification through validator network
  </Step>
</Steps>

---

## Parameters

<ResponseField name="contentTitle" type="string" required>
  Title for the content being registered
  
  **Constraints:** Required field, maximum 100 characters
  
  Example: `"My Important Document"`
</ResponseField>

<ResponseField name="walletAddress" type="string" required>
  User's public Solana wallet address
  
  **Constraints:** Must be a valid Solana public key
  
  Example: `"9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM"`
</ResponseField>

<ResponseField name="walletType" type="string" required>
  Wallet provider type used for registration
  
  **Constraints:** Must be either `"standard"` or `"crossmint"`
  
  Example: `"crossmint"`
</ResponseField>

<Info>
**Wallet Type Flows:**
- **`"crossmint"`**: Automatic signing and submission - registration completes immediately
- **`"standard"`**: Returns unsigned transaction that you must sign with your wallet (Phantom, Metamask, etc.) and submit via [`/transactions`](/essentials/submit-transaction)
</Info>

<ResponseField name="contentHash" type="string" required>
  SHA256 hash of the file content (hex encoded)
  
  **Constraints:** Must be a valid 64-character hex string
  
  Example: `"70228527096ba198ca89d90a0ac922055a6a2760a0e4f7d61918e6c60467c47a"`
</ResponseField>

<ResponseField name="fileMetadata" type="object" optional>
  Metadata about the file being registered
  
  <Expandable title="File Metadata Object">
    <ResponseField name="fileName" type="string" optional>
      Original name of the file
      
      Example: `"document.pdf"`
    </ResponseField>
    
    <ResponseField name="fileSize" type="number" optional>
      Size of the file in bytes
      
      Example: `12345`
    </ResponseField>
    
    <ResponseField name="mimeType" type="string" optional>
      MIME type of the file
      
      Example: `"application/pdf"`
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="metadata" type="string" optional>
  Additional metadata about the file
  
  **Constraints:** Maximum 500 characters
  
  Example: `"This document was created for project verification purposes"`
</ResponseField>

<ResponseField name="claimHash" type="string" optional>
  SHA256 hash for secret verification (hex encoded)
  
  **Constraints:** Optional 64-character hex string for claim verification
  
  Example: `"110f211f367825834d6897c0efd0b05b35adb744a5836dcd478d384d2a938f15"`
</ResponseField>


---



## Response Examples

### Success Response (202 - Crossmint)

<ResponseField name="message" type="string">
  Success confirmation message for Crossmint wallet transactions
  
  Example: `"âœ… Accepted! Your file has been submitted and is being processed by Crossmint."`
</ResponseField>

<ResponseField name="details" type="object">
  Registration submission details for Crossmint wallets
  
  <Expandable title="Details Object">
    <ResponseField name="status" type="string">
      Current status of the registration
      
      Example: `"processing"`
    </ResponseField>
    
    <ResponseField name="crossmintTransactionId" type="string">
      Crossmint transaction identifier
      
      Example: `"2nBhEBYYvfaAe16UMNqRHre4YNSskvuYgx3M6E4JP1oDYvZEJHvoPzyUwkoB6VRYuVEMarHNr9RxJWnyb8FnFnBg"`
    </ResponseField>
    
    <ResponseField name="contentRegistrationPDA" type="string">
      Program Derived Address for the content registration
      
      Example: `"8qbHbw2BbbTHBW1sbeqakYXVKRQM8Ne7pLK7m6CVfeR"`
    </ResponseField>
    
    <ResponseField name="ipfsCid" type="string">
      IPFS Content Identifier for the file metadata
      
      Example: `"QmExampleCidForYourFileMetadata..."`
    </ResponseField>
    
    <ResponseField name="contentHash" type="string">
      SHA-256 hash of your file that was registered on chain
      
      Example: `"70228527096ba198ca89d90a0ac922055a6a2760a0e4f7d61918e6c60467c47a"`
    </ResponseField>
  </Expandable>
</ResponseField>

### Success Response (200 - Standard Wallet)

<ResponseField name="message" type="string">
  Success confirmation message for standard wallet transactions
  
  Example: `"Transaction prepared. Please sign and submit via your wallet."`
</ResponseField>

<ResponseField name="details" type="object">
  Transaction preparation details for standard wallets
  
  <Expandable title="Details Object">
    <ResponseField name="status" type="string">
      Current status requiring client to sign the transaction with thier wallet
      
      Example: `"requires-client-signature"`
    </ResponseField>
    
    <ResponseField name="ipfsCid" type="string">
      IPFS Content Identifier for the file metadata
      
      Example: `"QmExampleCidForYourFileMetadata..."`
    </ResponseField>
    
    <ResponseField name="contentRegistrationPDA" type="string">
      Program Derived Address for the content registration
      
      Example: `"8qbHbw2BbbTHBW1sbeqakYXVKRQM8Ne7pLK7m6CVfeR"`
    </ResponseField>
    
    <ResponseField name="transaction" type="string">
      Base64-encoded transaction ready for client signing with their wallet
      
      Example: `"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEDArczbMia1tLmq2poQiNXU2xnkV4S4gK9bS6Kz..."`
    </ResponseField>

    <ResponseField name="contentHash" type="string">
      SHA-256 hash of your file that was registered on chain
      
      Example: `"70228527096ba198ca89d90a0ac922055a6a2760a0e4f7d61918e6c60467c47a"`
    </ResponseField>
  </Expandable>
</ResponseField>

<Note>
**Next Steps for Standard Wallets**: Take the `transaction` from the response, sign it with your wallet (Phantom, Metamask, etc.), then submit the signed transaction using the [`/transactions`](/essentials/submit-transaction) endpoint to complete the registration.
</Note>

---

### Error Response (400 - Bad Request)

Returned when the request contains invalid or missing required parameters. The response structure varies depending on the specific validation error.

<ResponseField name="error" type="boolean">
  Error flag indicating request failure
  Example: `true`
</ResponseField>

<ResponseField name="message" type="string">
  Error description explaining what went wrong. Common messages include:
  - `"Missing contentHash or fileMetadata. These are now required."`
  - `"Hold on! We need contentTitle, walletAddress, and walletType to proceed."`
  - `"Invalid walletType. It must be either 'standard' or 'crossmint'."`
  - `"Invalid claimHash. It must be a 32-byte hex string (64 characters)."`
  - `"This wallet address doesn't have a user ID relation. Please create one first."`
  - `"The provided metadata is not a string. Please check the format."`
  - `"Metadata is too long. A maximum of 500 characters is allowed."`
</ResponseField>

<ResponseField name="details" type="object" required={false}>
  Additional error context and guidance. Only included for specific error types:

  **For missing required fields:**

  ```json
  {
    "missingFields": ["contentTitle", "walletAddress"]
  }
  ```

  **For wallet relation issues:**

  ```json
  {
    "Missing Requirement": "User-Key Relation",
    "Wallet Address": "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM",
    "Suggestion": "Use the /link-wallet endpoint to link your wallet to a user ID first",
    "Alternative": "Use the /create-wallet endpoint to create a new wallet with automatic user ID linking",
    "Find Existing": "Use the /find-wallet endpoint to check if a relation already exists"
  }
  ```
</ResponseField>

### Error Response (409 - Duplicate Registration)

<ResponseField name="error" type="boolean">
  Error flag indicating duplicate registration
  
  Example: `true`
</ResponseField>

<ResponseField name="message" type="string">
  Error description for duplicate file
  
  Example: `"ðŸš« FILE ALREADY REGISTERED ðŸš«"`
</ResponseField>

<ResponseField name="details" type="object">
  Duplicate registration details
  
  <Expandable title="Details Object">
    <ResponseField name="contentHash" type="string">
      SHA256 hash of the already registered file
      
      Example: `"a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3"`
    </ResponseField>
    
    <ResponseField name="pdaAddress" type="string">
      Program Derived Address of existing registration
      
      Example: `"8qbHbw2BbbTHBW1sbeqakYXVKRQM8Ne7pLK7m6CVfeR"`
    </ResponseField>
    
    <ResponseField name="suggestion" type="string">
      Recommended action for the user
      
      Example: `"Use the /search endpoint"`
    </ResponseField>
  </Expandable>
</ResponseField>

## Example Responses:


<CodeGroup>
```json Success (202 Crossmint)
{
  "message": "âœ… Accepted! Your file has been submitted and is being processed by Crossmint.",
  "details": {
    "status": "processing",
    "crossmintTransactionId": "cm_tx_123456789",
    "contentRegistrationPDA": "8kQv2gFhgRmHq7ZPBx4N9TqJbSx3jDw5mVpL1WzNfEtY",
    "contentHash": "a1b2c3d4e5f6789012345678901234567890abcdef123456789012345678901234",
    "ipfsCid": "QmX7Rt8VBgKdNzF4mP6YvWzNfEtY2jDw5mVpL1WzNfEtYz"
  }
}
```

```json Success (200 Standard Wallet)
{
  "message": "Transaction prepared. Please sign and submit via your wallet.",
  "details": {
    "status": "requires-client-signature",
    "transaction": "AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEDArczbMia1tLmq2poQiNXU2xnkV4S4gK9bS6Kz...",
    "contentRegistrationPDA": "8kQv2gFhgRmHq7ZPBx4N9TqJbSx3jDw5mVpL1WzNfEtY",
    "contentHash": "a1b2c3d4e5f6789012345678901234567890abcdef123456789012345678901234",
    "ipfsCid": "QmX7Rt8VBgKdNzF4mP6YvWzNfEtY2jDw5mVpL1WzNfEtYz"
  }
}
```
</CodeGroup>

<Tabs>
  <Tab title="Missing Required Fields">
    ```json
    {
      "error": true,
      "message": "Hold on! We need `contentTitle`, `walletAddress`, and `walletType` to proceed.",
      "details": {
        "missingFields": ["contentTitle", "walletAddress"]
      }
    }
    ```
  </Tab>
  <Tab title="Invalid walletType">
    ```json
    {
      "error": true,
      "message": "Invalid `walletType`. It must be either 'standard' or 'crossmint'."
    }
    ```
  </Tab>
  <Tab title="No User-Key Relation">
    ```json
    {
      "error": true,
      "message": "This wallet address doesn't have a user ID relation. Please create one first.",
      "details": {
        "Missing Requirement": "User-Key Relation",
        "Wallet Address": "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM",
        "Suggestion": "Use the /link-wallet endpoint to link your wallet to a user ID first",
        "Alternative": "Use the /create-wallet endpoint to create a new wallet with automatic user ID linking",
        "Find Existing": "Use the /find-wallet endpoint to check if a relation already exists"
      }
    }
    ```
  </Tab>
  <Tab title="Metadata Too Long">
    ```json
    {
      "error": true,
      "message": "Metadata is too long. A maximum of 500 characters is allowed."
    }
    ```
  </Tab>
</Tabs>

---

<Tip>
Save the IPFS CID and transaction signature from the response for future reference. These provide cryptographic proof of your file's registration.
</Tip>
