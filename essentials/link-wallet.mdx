---
title: '/link-wallet'
description: 'Links a user ID to a Solana wallet address by creating an on-chain relationship record.'
icon: 'link'
openapi: 'POST /link-wallet'
---

<Info>
**Rate Limit:** 100 requests per 15 minutes
</Info>

---

## What This Endpoint Does

<Steps>
  <Step title="Parameter Validation">
    Validates user ID format and wallet address using Solana's Base58 encoding
  </Step>
  <Step title="PDA Generation">
    Creates a Program Derived Address for the relationship using deterministic seeds
  </Step>
  <Step title="Duplicate Check">
    Ensures the wallet isn't already linked to prevent conflicts
  </Step>
  <Step title="On-Chain Storage">
    Creates an immutable record on the Solana blockchain
  </Step>
  <Step title="Server Sponsorship">
    Transaction fees are paid by the Trust Engine server (no user cost)
  </Step>
</Steps>

---

## Understanding User Key Relations

### Purpose
<Info>
User key relations enable the Trust Engine to provide user-friendly experiences by linking human-readable identifiers to blockchain addresses.
</Info>

<Warning>
**Permanent Records**: User key relations cannot be modified once created on the blockchain.
</Warning>

**This ensures:**
- **One relationship per wallet** (enforced by PDA uniqueness)
- **Deterministic lookups** (same wallet always maps to same PDA)
- **Efficient queries** (no need to scan all accounts)